[gd_scene load_steps=22 format=2]

[ext_resource path="res://Assets/Base/Tileset.tres" type="TileSet" id=1]
[ext_resource path="res://Assets/Base/table2.png" type="Texture" id=2]
[ext_resource path="res://Levels/RoomBase.gd" type="Script" id=3]
[ext_resource path="res://Assets/CampiArt/flashlight.png" type="Texture" id=4]
[ext_resource path="res://Scenes/Items/Flashlight.tscn" type="PackedScene" id=5]
[ext_resource path="res://Scenes/Items/Pickup.tscn" type="PackedScene" id=6]
[ext_resource path="res://Scenes/Items/Ammo1911.tscn" type="PackedScene" id=7]
[ext_resource path="res://Assets/CampiArt/gun1911.png" type="Texture" id=8]
[ext_resource path="res://Scenes/Items/Handgun.tscn" type="PackedScene" id=9]
[ext_resource path="res://Assets/CampiArt/ammo.png" type="Texture" id=10]
[ext_resource path="res://Scenes/Props/Door.tscn" type="PackedScene" id=11]
[ext_resource path="res://Scenes/Player/Player.tscn" type="PackedScene" id=12]
[ext_resource path="res://Assets/Sounds/wooden_floor.wav" type="AudioStream" id=13]
[ext_resource path="res://Scenes/Props/Keycard.tscn" type="PackedScene" id=14]
[ext_resource path="res://Scenes/Objects/SayLine.gd" type="Script" id=15]
[ext_resource path="res://Scenes/Props/WallLight.tscn" type="PackedScene" id=16]
[ext_resource path="res://Scenes/Enemy/ShyOne.tscn" type="PackedScene" id=17]
[ext_resource path="res://Scenes/Props/Help.tscn" type="PackedScene" id=18]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 128, 64 )

[sub_resource type="Shader" id=2]
code = "shader_type canvas_item;

uniform float max_off = 0.1f;
uniform float percent;

void fragment(){
	vec2 changed_uv = UV;
	changed_uv.y += max_off * clamp(percent-UV.x,0f,1f);
	COLOR = texture(TEXTURE,changed_uv);
	COLOR.a *= 1f-clamp(percent-UV.x,0f,1f);
}"

[sub_resource type="ShaderMaterial" id=3]
resource_local_to_scene = true
shader = SubResource( 2 )
shader_param/max_off = 0.1
shader_param/percent = null

[node name="Room" type="Node2D"]
script = ExtResource( 3 )
footstep_sounds = [ ExtResource( 13 ), null, ExtResource( 13 ), null, null, null, null, null, null, null, null, null ]

[node name="Navigation2D" type="Navigation2D" parent="." groups=["Navigator"]]
z_index = -100

[node name="TileMap" type="TileMap" parent="Navigation2D"]
z_index = -100
tile_set = ExtResource( 1 )
collision_layer = 17
collision_mask = 2
format = 1
tile_data = PoolIntArray( -589844, 1, 3, -589843, 1, 131072, -589842, 1, 131072, -589841, 1, 131072, -589840, 1, 131072, -589839, 1, 131072, -589838, 1, 65538, -524308, 1, 1, -524307, 1, 0, -524306, 1, 0, -524305, 1, 0, -524304, 1, 0, -524303, 1, 0, -524302, 1, 65536, -458780, 2, 131074, -458779, 2, 3, -458778, 2, 3, -458777, 2, 131073, -458776, 1, 3, -458775, 1, 131072, -458774, 1, 131072, -458773, 1, 131072, -458772, 1, 196609, -458771, 1, 131075, -458770, 1, 65539, -458769, 1, 65539, -458768, 1, 65539, -458767, 1, 131074, -458766, 1, 196608, -458765, 1, 131072, -458764, 1, 131072, -458763, 1, 131072, -458762, 1, 131072, -458761, 1, 131072, -458760, 1, 131072, -458759, 1, 131072, -458758, 1, 131072, -458757, 1, 131072, -458756, 1, 131072, -458755, 1, 65538, -393244, 2, 1, -393243, 2, 0, -393242, 2, 0, -393241, 2, 131082, -393240, 1, 2, -393239, 1, 65539, -393238, 1, 65539, -393237, 1, 65539, -393236, 1, 65539, -393235, 1, 65537, -393234, 2, 262154, -393233, 2, 262154, -393232, 2, 262154, -393231, 1, 2, -393230, 1, 65539, -393229, 1, 65539, -393228, 1, 65539, -393227, 1, 65539, -393226, 1, 65539, -393225, 1, 65539, -393224, 1, 65539, -393223, 1, 65539, -393222, 1, 65539, -393221, 1, 65539, -393220, 1, 131074, -393219, 1, 65536, -393218, 0, 0, -393217, 0, 0, -458752, 0, 0, -458751, 0, 0, -458750, 0, 0, -458749, 0, 0, -458748, 0, 0, -458747, 0, 0, -458746, 0, 0, -458745, 0, 0, -327708, 2, 1, -327707, 2, 0, -327706, 2, 0, -327705, 2, 65538, -327704, 2, 3, -327703, 2, 3, -327702, 2, 3, -327701, 2, 3, -327700, 2, 3, -327699, 2, 3, -327698, 2, 3, -327697, 2, 3, -327696, 2, 3, -327695, 2, 3, -327694, 2, 3, -327693, 2, 3, -327692, 2, 3, -327691, 2, 3, -327690, 2, 3, -327689, 2, 3, -327688, 2, 3, -327687, 2, 3, -327686, 2, 3, -327685, 2, 131073, -327684, 1, 1, -327683, 1, 65536, -327682, 2, 131074, -327681, 2, 3, -393216, 2, 3, -393215, 2, 3, -393214, 2, 3, -393213, 2, 3, -393212, 2, 3, -393211, 2, 3, -393210, 2, 65546, -393209, 0, 0, -262172, 2, 1, -262171, 2, 0, -262170, 2, 0, -262169, 2, 65539, -262168, 2, 65536, -262167, 2, 65536, -262166, 2, 65536, -262165, 2, 65536, -262164, 2, 65536, -262163, 2, 65536, -262162, 2, 65536, -262161, 2, 65536, -262160, 2, 65536, -262159, 2, 65536, -262158, 2, 65536, -262157, 2, 65536, -262156, 2, 131072, -262155, 2, 0, -262154, 2, 0, -262153, 2, 0, -262152, 2, 0, -262151, 2, 0, -262150, 2, 0, -262149, 2, 2, -262148, 1, 1, -262147, 1, 65536, -262146, 2, 1, -262145, 2, 0, -327680, 2, 0, -327679, 2, 0, -327678, 2, 0, -327677, 2, 0, -327676, 2, 0, -327675, 2, 0, -327674, 2, 196618, -327673, 0, 0, -196636, 2, 1, -196635, 2, 0, -196634, 2, 0, -196633, 2, 262154, -196632, 1, 3, -196631, 1, 131072, -196630, 1, 131072, -196629, 1, 131072, -196628, 1, 131072, -196627, 1, 131072, -196626, 1, 131072, -196625, 1, 131072, -196624, 1, 131072, -196623, 1, 131072, -196622, 1, 131072, -196621, 1, 65538, -196620, 2, 1, -196619, 2, 0, -196618, 2, 65539, -196617, 2, 65536, -196616, 2, 65536, -196615, 2, 131072, -196614, 2, 0, -196613, 2, 262154, -196612, 1, 2, -196611, 1, 65537, -196610, 2, 1, -196609, 2, 0, -262144, 2, 0, -262143, 2, 0, -262142, 2, 0, -262141, 2, 0, -262140, 2, 0, -262139, 2, 0, -262138, 2, 196618, -262137, 0, 0, -131100, 2, 196608, -131099, 2, 65536, -131098, 2, 65536, -131097, 2, 131075, -131096, 1, 1, -131095, 1, 0, -131094, 1, 0, -131093, 1, 0, -131092, 1, 0, -131091, 1, 0, -131090, 1, 0, -131089, 1, 0, -131088, 1, 0, -131087, 1, 0, -131086, 1, 0, -131085, 1, 65536, -131084, 2, 1, -131083, 2, 0, -131082, 2, 2, -131081, 1, 3, -131080, 1, 65538, -131079, 2, 1, -131078, 2, 0, -131077, 2, 131082, -131076, 0, 0, -131075, 0, 0, -131074, 2, 1, -131073, 2, 0, -196608, 2, 0, -196607, 2, 0, -196606, 2, 0, -196605, 2, 0, -196604, 2, 0, -196603, 2, 0, -196602, 2, 196618, -196601, 0, 0, -65560, 1, 1, -65559, 1, 0, -65558, 1, 0, -65557, 1, 0, -65556, 1, 0, -65555, 1, 0, -65554, 1, 0, -65553, 1, 0, -65552, 1, 0, -65551, 1, 0, -65550, 1, 0, -65549, 1, 65536, -65548, 2, 1, -65547, 2, 0, -65546, 2, 196618, -65545, 1, 2, -65544, 1, 65537, -65543, 2, 1, -65542, 2, 0, -65541, 2, 196618, -65540, 0, 0, -65539, 0, 0, -65538, 2, 1, -65537, 2, 0, -131072, 2, 0, -131071, 2, 0, -131070, 2, 0, -131069, 2, 0, -131068, 2, 0, -131067, 2, 0, -131066, 2, 131082, -131065, 0, 0, -24, 1, 1, -23, 1, 0, -22, 1, 0, -21, 1, 0, -20, 1, 0, -19, 1, 0, -18, 1, 0, -17, 1, 0, -16, 1, 0, -15, 1, 0, -14, 1, 0, -13, 1, 65536, -12, 2, 1, -11, 2, 0, -10, 2, 65538, -9, 2, 3, -8, 2, 3, -7, 2, 65537, -6, 2, 0, -5, 2, 2, -4, 1, 3, -3, 1, 65538, -2, 2, 1, -1, 2, 0, -65536, 2, 0, -65535, 2, 0, -65534, 2, 0, -65533, 2, 0, -65532, 2, 0, -65531, 2, 0, -65530, 2, 2, -65529, 0, 0, 65512, 1, 1, 65513, 1, 0, 65514, 1, 0, 65515, 1, 0, 65516, 1, 0, 65517, 1, 0, 65518, 1, 0, 65519, 1, 0, 65520, 1, 0, 65521, 1, 0, 65522, 1, 0, 65523, 1, 65536, 65524, 2, 1, 65525, 2, 0, 65526, 2, 0, 65527, 2, 0, 65528, 2, 0, 65529, 2, 0, 65530, 2, 0, 65531, 2, 131082, 65532, 1, 1, 65533, 1, 65536, 65534, 2, 1, 65535, 2, 0, 0, 2, 0, 1, 2, 0, 2, 2, 0, 3, 2, 0, 4, 2, 0, 5, 2, 0, 6, 2, 2, 7, 0, 0, 131048, 1, 1, 131049, 1, 0, 131050, 1, 0, 131051, 1, 0, 131052, 1, 0, 131053, 1, 0, 131054, 1, 0, 131055, 1, 0, 131056, 1, 0, 131057, 1, 0, 131058, 1, 0, 131059, 1, 65536, 131060, 2, 196608, 131061, 2, 65536, 131062, 2, 65536, 131063, 2, 65536, 131064, 2, 65536, 131065, 2, 65536, 131066, 2, 65536, 131067, 2, 131075, 131068, 1, 1, 131069, 1, 65536, 131070, 2, 196608, 131071, 2, 65536, 65536, 2, 65536, 65537, 2, 65536, 65538, 2, 65536, 65539, 2, 65536, 65540, 2, 65536, 65541, 2, 65536, 65542, 2, 131075, 65543, 0, 0, 196584, 1, 1, 196585, 1, 0, 196586, 1, 0, 196587, 1, 0, 196588, 1, 0, 196589, 1, 0, 196590, 1, 0, 196591, 1, 0, 196592, 1, 0, 196593, 1, 0, 196594, 1, 0, 196595, 1, 196608, 196596, 1, 131072, 196597, 1, 131072, 196598, 1, 65538, 196599, 0, 0, 196600, 0, 0, 196601, 1, 3, 196602, 1, 131072, 196603, 1, 131072, 196604, 1, 196609, 196605, 1, 65536, 262120, 1, 2, 262121, 1, 65539, 262122, 1, 65539, 262123, 1, 65539, 262124, 1, 65539, 262125, 1, 65539, 262126, 1, 65539, 262127, 1, 65539, 262128, 1, 65539, 262129, 1, 65539, 262130, 1, 65539, 262131, 1, 65539, 262132, 1, 65539, 262133, 1, 65539, 262134, 1, 65537, 262135, 0, 0, 262136, 0, 0, 262137, 1, 2, 262138, 1, 65539, 262139, 1, 65539, 262140, 1, 65539, 262141, 1, 65537, 327669, 0, 0, 327670, 0, 0, 327671, 0, 0, 327672, 0, 0, 327673, 0, 0, 327674, 0, 0, 393205, 0, 0, 393206, 0, 0, 393207, 0, 0, 393208, 0, 0, 393209, 0, 0, 393210, 0, 0, 458743, 0, 0, 458744, 0, 0, 458745, 0, 0 )
__meta__ = {
"_editor_description_": "walls - 1
wood - 2"
}

[node name="Table" type="StaticBody2D" parent="."]
position = Vector2( -1056, -451 )

[node name="Table" type="Sprite" parent="Table"]
position = Vector2( 0, 23.5 )
scale = Vector2( 1.7, 1.21667 )
texture = ExtResource( 2 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Table"]
visible = false
shape = SubResource( 1 )

[node name="Keycard" parent="Table" instance=ExtResource( 14 )]
material = SubResource( 3 )
position = Vector2( -62, 22 )
rotation = 0.406423
display_name = "Key forward"
key = "key"

[node name="Handgun" parent="Table" instance=ExtResource( 6 )]
position = Vector2( 46, 24 )
rotation = -1.0472
texture = ExtResource( 8 )
drops = ExtResource( 9 )

[node name="Flashlight" parent="Table" instance=ExtResource( 6 )]
position = Vector2( -16, 19 )
rotation = 0.25062
texture = ExtResource( 4 )
drops = ExtResource( 5 )

[node name="Ammo" parent="Table" instance=ExtResource( 6 )]
position = Vector2( 80, 19 )
rotation = 0.25062
texture = ExtResource( 10 )
drops = ExtResource( 7 )
count = 24

[node name="Ammo2" parent="Table" instance=ExtResource( 6 )]
position = Vector2( -80, 47 )
rotation = 0.25062
z_index = -1
texture = ExtResource( 10 )
drops = ExtResource( 7 )
count = 8

[node name="Player" parent="." instance=ExtResource( 12 )]
position = Vector2( -1280, -320 )

[node name="SayLines" type="Node2D" parent="."]

[node name="NoExit" type="Control" parent="SayLines"]
margin_left = -1464.0
margin_top = -392.0
margin_right = -1376.0
margin_bottom = -256.0
script = ExtResource( 15 )
__meta__ = {
"_edit_use_anchors_": false
}
message = "THERE'S NOTHING FOR ME THERE"
onetime = false

[node name="NoExit2" type="Control" parent="SayLines"]
margin_left = -640.0
margin_top = 56.0
margin_right = -376.0
margin_bottom = 144.0
script = ExtResource( 15 )
__meta__ = {
"_edit_use_anchors_": false
}
message = "THERE'S NOTHING FOR ME THERE"
onetime = false

[node name="PickUpGear" type="Control" parent="SayLines"]
margin_left = -1192.0
margin_top = -408.0
margin_right = -936.0
margin_bottom = -256.0
script = ExtResource( 15 )
__meta__ = {
"_edit_use_anchors_": false
}
message = "I SHOULD TAKE SOME GEAR"

[node name="Doors" type="Node2D" parent="."]

[node name="Door" parent="Doors" instance=ExtResource( 11 )]
position = Vector2( -1503, -320 )
rotation = -3.14159
locked = true
locked_line = "NO GOING BACK"

[node name="Door2" parent="Doors" instance=ExtResource( 11 )]
position = Vector2( -192, -128 )
rotation = -3.14159
outer_text = "THEIR TURF"
keycard = "key"
locked = true

[node name="Door3" parent="Doors" instance=ExtResource( 11 )]
position = Vector2( -512, 192 )
rotation = -1.57079
outer_text = "NOT THE WAY"
locked = true

[node name="WallLight" parent="." instance=ExtResource( 16 )]
position = Vector2( -1148, -417 )
texture_scale = 3.0

[node name="ShyOne" parent="." instance=ExtResource( 17 )]
position = Vector2( -639, 57 )
rotation = -0.523598

[node name="Help" parent="." instance=ExtResource( 18 )]
position = Vector2( -1063, -290 )
help = "The world is filled with interactive elements. These will display their name over themselves if you look at them directly, though they can also be highlighted by holding alt.
If you thusly interact with an item, you will pick it up and add it to your inventory. This can be accessed via tab, where you will be able to organize it, equip items or fill up your hotbar, which you can then use items from by pressing the appropriate number key."
special_message = "Items"
